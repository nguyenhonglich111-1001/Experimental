fix(ui): Handle LangChain message objects in chat history

This commit fixes a `TypeError` that occurred when displaying the chat history after the conversational memory was upgraded to use `RunnableWithMessageHistory`.

The root cause was that the UI component expected a list of dictionaries, but the new memory manager was populating the session state with LangChain's `HumanMessage` and `AIMessage` objects.

Key changes:
- **`app/components.py`**: The `display_chat_history` function has been updated to be type-aware. It can now correctly render both the old dictionary format and the new LangChain message objects by checking the type of each message and accessing its attributes accordingly.
- **`server.py`**: New messages added to the chat history are now explicitly converted to `HumanMessage` or `AIMessage` objects to ensure a consistent format going forward.